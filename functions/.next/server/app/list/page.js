(()=>{var e={};e.id=631,e.ids=[631],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16372:(e,t,r)=>{Promise.resolve().then(r.bind(r,63083))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},41864:(e,t,r)=>{"use strict";r.d(t,{T:()=>l});var s=r(43210),o=r(75535),n=r(99147),i=r(8811);let l=({uid:e})=>{let[t,r]=(0,s.useState)([]),[l,a]=(0,s.useState)(!0),{triggerAlert:c}=(0,i.M)(),d=(0,s.useCallback)(async()=>{try{if(!e)return void c("로그인이 필요합니다. 먼저 로그인해주세요!");a(!0);let t=(0,o.rJ)(n.db,"bookmarkData"),s=(0,o.P)(t,(0,o._M)("uid","==",e)),i=(await (0,o.GG)(s)).docs.map(e=>({_id:e.id,name:e.data().name,color:e.data().color}));r(i),a(!1)}catch(e){console.error("Firebase 북마크 불러오기 실패:",e)}},[e,c]);return(0,s.useEffect)(()=>{d()},[d]),{bookmarks:t,setBookmarks:r,fetchBookmarks:d,isLoading:l}}},55511:e=>{"use strict";e.exports=require("crypto")},56096:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var s=r(65239),o=r(48088),n=r(88170),i=r.n(n),l=r(30893),a={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>l[e]);r.d(t,a);let c={children:["",{children:["list",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,86011)),"C:\\study\\travel-diary\\src\\app\\list\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\study\\travel-diary\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\study\\travel-diary\\src\\app\\list\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/list/page",pathname:"/list",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63083:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var s=r(60687),o=r(43210),n=r.n(o),i=r(87979),l=r(41864),a=r(4780);function c({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"skeleton",className:(0,a.cn)("bg-accent animate-pulse rounded-md",e),...t})}function d({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function p({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...t})}function u({uid:e,selectedBookmark:t,setSelectedBookmark:r}){let{bookmarks:o,isLoading:n}=(0,l.T)({uid:e});return(0,s.jsx)("div",{className:"fixed flex gap-4 w-full px-8 py-4 bg-white border-b",children:n?(0,s.jsx)("div",{className:"flex gap-5",children:[1,2].map(e=>(0,s.jsx)(c,{className:"w-19 h-10 rounded-md"},e))}):o.map(e=>(0,s.jsx)(d,{onClick:()=>r(e.name),className:`min-w-10 px-4 py-2 cursor-pointer text-center ${t===e.name?"border-blue-500 bg-blue-50":""}`,children:(0,s.jsx)(p,{className:"p-0",children:e.name})},e.name))})}var h=r(86070),m=function(e,t){return(m=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},f=function(){return(f=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},v={Pixel:"Pixel",Percent:"Percent"},g={unit:v.Percent,value:.8};function x(e){return"number"==typeof e?{unit:v.Percent,value:100*e}:"string"==typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:v.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:v.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),g):(console.warn("scrollThreshold should be string or number"),g)}var y=function(e){function t(){this.constructor=r}function r(t){var r=e.call(this,t)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:"string"==typeof r.props.scrollableTarget?document.getElementById(r.props.scrollableTarget):(null===r.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},r.onStart=function(e){!r.lastScrollTop&&(r.dragging=!0,e instanceof MouseEvent?r.startY=e.pageY:e instanceof TouchEvent&&(r.startY=e.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(e){if(r.dragging)e instanceof MouseEvent?r.currentY=e.pageY:e instanceof TouchEvent&&(r.currentY=e.touches[0].pageY),r.currentY<r.startY||(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),!(r.currentY-r.startY>1.5*r.maxPullDownDistance)&&r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)"))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")})},r.onScrollListener=function(e){"function"==typeof r.props.onScroll&&setTimeout(function(){return r.props.onScroll&&r.props.onScroll(e)},0);var t=r.props.height||r._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;r.actionTriggered||((r.props.inverse?r.isElementAtTop(t,r.props.scrollThreshold):r.isElementAtBottom(t,r.props.scrollThreshold))&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=t.scrollTop)},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},r.throttledOnScrollListener=(function(e,t,r,s){var o,n=!1,i=0;function l(){o&&clearTimeout(o)}function a(){var a=this,c=Date.now()-i,d=arguments;function p(){i=Date.now(),r.apply(a,d)}n||(s&&!o&&p(),l(),void 0===s&&c>e?p():!0!==t&&(o=setTimeout(s?function(){o=void 0}:p,void 0===s?e-c:e)))}return"boolean"!=typeof t&&(s=r,r=t,t=void 0),a.cancel=function(){l(),n=!0},a})(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return m(r,e),r.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t),r.prototype.componentDidMount=function(){if(void 0===this.props.dataLength)throw Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"==typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!=typeof this.props.refreshFunction))throw Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},r.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},r.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},r.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?f(f({},t),{prevDataLength:e.dataLength}):null},r.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var r=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,s=x(t);return s.unit===v.Pixel?e.scrollTop<=s.value+r-e.scrollHeight+1:e.scrollTop<=s.value/100+r-e.scrollHeight+1},r.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var r=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,s=x(t);return s.unit===v.Pixel?e.scrollTop+r>=e.scrollHeight-s.value:e.scrollTop+r>=s.value/100*e.scrollHeight},r.prototype.render=function(){var e=this,t=f({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),r=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),s=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return n().createElement("div",{style:s,className:"infinite-scroll-component__outerdiv"},n().createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:t},this.props.pullDownToRefresh&&n().createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},n().createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!r&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},r}(o.Component),b=r(85650);function w({uid:e,selectedBookmark:t}){let{markers:r,isLoading:n,fetchMoreMarkers:i,hasMore:l}=(0,h.n)({uid:e}),a=(0,o.useMemo)(()=>r.filter(e=>t===e.bookmark.name),[r,t]);console.log("filteredMarkers: ",a);let u=(0,o.useMemo)(()=>Array.from(new Set(a.map(e=>(0,b.GP)(e.date,"yyyy-MM-dd")))),[a]);return(0,s.jsx)("div",{className:"max-h-160 pt-24 px-8",children:n?(0,s.jsx)("div",{className:"space-y-6",children:[1,2,3].map(e=>(0,s.jsx)(c,{className:"h-49 w-full rounded-lg"},e))}):0===u.length?(0,s.jsx)("div",{className:"size-full",children:"기록이 없습니다."}):(0,s.jsx)("div",{id:"scroll-container",className:"h-full rounded-md",children:(0,s.jsx)(y,{dataLength:a.length,next:i,hasMore:l,loader:(0,s.jsx)("h4",{children:"Loading..."}),children:u.map(e=>(0,s.jsxs)("div",{className:"flex gap-x-8 gap-y-4 px-8 py-5 bg-[#FAFAF2] border border-[#9A8C4B] rounded-md   mt-8 first:mt-0 last:mb-8   flex-col sm:flex-row",children:[(0,s.jsx)("div",{className:"w-23 mt-1 shrink-0",children:e}),(0,s.jsx)("div",{className:"w-full",children:a.filter(t=>(0,b.GP)(t.date,"yyyy-MM-dd")===e).map(e=>(0,s.jsx)(d,{className:"mt-6 py-5 first:mt-0",children:(0,s.jsx)(p,{className:"px-8 sm:px-12",children:(0,s.jsxs)("div",{className:"flex flex-col gap-3 items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-base whitespace-pre-line",children:e.name}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground font-medium",children:e.address})]}),(0,s.jsx)("p",{children:e.content})]})})},`${e._id}`))})]},`${e}`))})})})}function T(){let{uid:e}=(0,i.A)(),[t,r]=(0,o.useState)("");return(0,s.jsxs)("article",{className:"flex flex-col gap-6 h-full",children:[(0,s.jsx)(u,{uid:e,selectedBookmark:t,setSelectedBookmark:r}),(0,s.jsx)(w,{uid:e,selectedBookmark:t})]})}function _(){return(0,s.jsx)(T,{})}},63636:(e,t,r)=>{Promise.resolve().then(r.bind(r,86011))},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(31658);let o=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},86011:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\study\\\\travel-diary\\\\src\\\\app\\\\list\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\study\\travel-diary\\src\\app\\list\\page.tsx","default")},86070:(e,t,r)=>{"use strict";r.d(t,{n:()=>i});var s=r(43210),o=r(75535),n=r(99147);let i=({uid:e})=>{let[t,r]=(0,s.useState)([]),[i,l]=(0,s.useState)(!0),a=async({markerToSave:e})=>{let t=(0,o.rJ)(n.db,"travelData"),s=await (0,o.gS)(t,{...e});await (0,o.mZ)(s,{_id:s.id});let i={...e,_id:s.id};r(e=>[...e,i])},c=async({markerId:e,date:t,content:s,bookmark:i})=>{let l=(0,o.H9)(n.db,"travelData",e);await (0,o.mZ)(l,{date:t,content:s,bookmark:{name:i.name,color:i.color}}),r(r=>r.map(r=>r._id===e?{...r,date:t??r.date,content:s,bookmark:{_id:i._id,name:i.name,color:i.color}}:r))},d=(0,s.useCallback)(async()=>{if(!e)return;l(!0);let t=(0,o.rJ)(n.db,"travelData"),s=(0,o.P)(t,(0,o._M)("uid","==",e),(0,o.My)("date","desc"));r((await (0,o.GG)(s)).docs.map(e=>({...e.data(),date:e.data().date.toDate()}))),l(!1)},[e]),[p,u]=(0,s.useState)(!0),h=(0,s.useRef)(null),m=(0,s.useCallback)(async()=>{if(!e)return;l(!0);let t=(0,o.aU)(n.xv),s=(0,o.rJ)(t,"travelData"),i=(0,o.P)(s,(0,o._M)("uid","==",e),(0,o.My)("date","desc"),(0,o.AB)(10));h.current&&(i=(0,o.P)(s,(0,o._M)("uid","==",e),(0,o.My)("date","desc"),(0,o.HM)(h.current),(0,o.AB)(10)));let a=await (0,o.GG)(i);if(a.empty)u(!1);else{let e=a.docs.map(e=>({...e.data(),date:e.data().date.toDate()}));r(t=>[...t,...e]),h.current=a.docs[a.docs.length-1],a.docs.length<10&&u(!1)}l(!1)},[e]);return(0,s.useEffect)(()=>{m()},[m]),{markers:t,createMarker:a,updateMarker:c,fetchMarkers:d,fetchMoreMarkers:m,isLoading:i,hasMore:p}}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,809,658,650,175],()=>r(56096));module.exports=s})();